<!DOCTYPE html>
<html class="dark" lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>OSINT // RECON - Subdomain Module</title>
<link href="https://fonts.googleapis.com" rel="preconnect"/>
<link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500;700&amp;family=Space+Grotesk:wght@300;400;500;600;700&amp;display=swap" rel="stylesheet"/>
<link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:wght,FILL@100..700,0..1&amp;display=swap" rel="stylesheet"/>
<script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
<script id="tailwind-config">tailwind.config = {darkMode: "class",theme: {extend: {colors: {"primary": "#13ec63","primary-dim": "#0eac48","background-light": "#f6f8f7","background-dark": "#050a07","surface-dark": "#0f1612","surface-border": "#1f2e25",},fontFamily: {"display": ["Space Grotesk", "sans-serif"],"mono": ["JetBrains Mono", "monospace"],},backgroundImage: {'cyber-grid': "linear-gradient(to right, #1f2e25 1px, transparent 1px), linear-gradient(to bottom, #1f2e25 1px, transparent 1px)",}},},}</script>
<style>.neon-glow {box-shadow: 0 0 10px rgba(19, 236, 99, 0.2);}.neon-text-glow {text-shadow: 0 0 5px rgba(19, 236, 99, 0.5);}.grid-bg {background-size: 40px 40px;mask-image: linear-gradient(to bottom, black 40%, transparent 100%);}::-webkit-scrollbar {width: 8px;height: 8px;}::-webkit-scrollbar-track {background: #0f1612;}::-webkit-scrollbar-thumb {background: #1f2e25;border-radius: 4px;}::-webkit-scrollbar-thumb:hover {background: #13ec63;}</style>
</head>
<body class="bg-background-light dark:bg-background-dark font-display text-slate-900 dark:text-slate-100 min-h-screen flex flex-col overflow-x-hidden selection:bg-primary selection:text-black">
<div class="fixed inset-0 pointer-events-none opacity-20 bg-cyber-grid grid-bg z-0"></div>
<div class="relative z-10 flex flex-col h-full grow">
<header class="sticky top-0 z-50 flex items-center justify-between border-b border-surface-border bg-surface-dark/95 backdrop-blur-md px-6 py-3">
<div class="flex items-center gap-4 text-white">
<div class="size-8 text-primary flex items-center justify-center rounded bg-primary/10 border border-primary/20 neon-glow">
<span class="material-symbols-outlined text-[24px]">radar</span>
</div>
<h2 class="text-white text-xl font-bold tracking-tight uppercase">OSINT <span class="text-primary">//</span> RECON</h2>
</div>
<div class="hidden md:flex flex-1 justify-center px-8">
<nav class="flex items-center gap-1 rounded-full border border-surface-border bg-black/40 p-1">
<a class="px-4 py-1.5 text-sm font-medium text-white hover:text-primary transition-colors" href="dashboard.html">Dashboard</a>
<a class="px-4 py-1.5 text-sm font-bold text-black bg-primary rounded shadow shadow-primary/20" href="subdomain-recon.html">Reconnaissance</a>
<a class="px-4 py-1.5 text-sm font-medium text-white hover:text-primary transition-colors" href="exif-extractor.html">EXIF Tool</a>
<a class="px-4 py-1.5 text-sm font-medium text-white hover:text-primary transition-colors" href="port-scanner.html">Network</a>
<a class="px-4 py-1.5 text-sm font-medium text-white hover:text-primary transition-colors" href="settings.html">Settings</a>
</nav>
</div>
<div class="flex items-center gap-4">
<button class="flex items-center justify-center size-10 rounded-lg bg-surface-border/50 text-white hover:bg-surface-border transition-colors relative">
<span class="material-symbols-outlined text-[20px]">notifications</span>
<span class="absolute top-2 right-2 size-2 bg-primary rounded-full animate-pulse"></span>
</button>
<div class="size-9 rounded-full bg-gradient-to-br from-primary to-blue-500 p-[1px]">
<div class="size-full rounded-full bg-surface-dark flex items-center justify-center overflow-hidden">
<span class="material-symbols-outlined text-white text-[20px]">person</span>
</div>
</div>
</div>
</header>
<main class="flex-1 px-4 md:px-8 py-6 w-full max-w-[1600px] mx-auto flex flex-col gap-6">
<div class="flex flex-col md:flex-row gap-6 items-end justify-between">
<div class="flex flex-col gap-2">
<div class="flex items-center gap-2 text-primary text-xs font-mono uppercase tracking-widest">
<span class="material-symbols-outlined text-[16px] animate-spin-slow">sync</span>System Ready
</div>
<h1 class="text-4xl md:text-5xl font-black tracking-tight text-white uppercase">Target Acquisition</h1>
<p class="text-slate-400 max-w-lg">Map and analyze subdomains for target infrastructure using passive and active enumeration techniques.</p>
</div>
<div class="w-full md:w-auto md:min-w-[500px]">
<div class="relative group">
<div class="absolute -inset-0.5 bg-gradient-to-r from-primary/50 to-emerald-600/50 rounded-lg blur opacity-30 group-hover:opacity-75 transition duration-500"></div>
<div class="relative flex items-stretch bg-surface-dark rounded-lg border border-surface-border">
<div class="pl-4 flex items-center justify-center text-slate-500">
<span class="material-symbols-outlined">globe</span>
</div>
<input class="w-full bg-transparent border-none text-white font-mono placeholder-slate-600 focus:ring-0 py-4 px-3" placeholder="ENTER TARGET DOMAIN (e.g. corporation.com)" type="text" id="target-input"/>
<button class="m-1 px-6 bg-primary hover:bg-primary-dim text-black font-bold uppercase tracking-wide text-sm rounded transition-colors flex items-center gap-2" onclick="startScan()">
<span class="material-symbols-outlined text-[18px]">search</span>Scan
</button>
</div>
</div>
</div>
</div>
<div class="grid grid-cols-1 lg:grid-cols-3 gap-6 flex-1 min-h-[600px]">
<div class="flex flex-col gap-6 lg:col-span-1">
<div class="grid grid-cols-2 gap-4">
<div class="bg-surface-dark border border-surface-border p-4 rounded-lg flex flex-col gap-1 relative overflow-hidden group">
<div class="absolute right-0 top-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity">
<span class="material-symbols-outlined text-6xl text-primary">dns</span>
</div>
<span class="text-xs font-mono text-slate-400 uppercase">Subdomains Found</span>
<span class="text-3xl font-mono font-bold text-white" id="subdomain-count">0</span>
<div class="flex items-center gap-1 text-xs text-primary mt-2">
<span class="material-symbols-outlined text-[12px]">trending_up</span>
<span id="subdomain-change">+0 since last scan</span>
</div>
</div>
<div class="bg-surface-dark border border-surface-border p-4 rounded-lg flex flex-col gap-1 relative overflow-hidden group">
<div class="absolute right-0 top-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity">
<span class="material-symbols-outlined text-6xl text-red-500">lock_open</span>
</div>
<span class="text-xs font-mono text-slate-400 uppercase">Vulnerabilities</span>
<span class="text-3xl font-mono font-bold text-white" id="vuln-count">0</span>
<div class="flex items-center gap-1 text-xs text-red-400 mt-2">
<span class="material-symbols-outlined text-[12px]">warning</span>
<span id="vuln-level">None</span>
</div>
</div>
</div>
<div class="flex-1 bg-surface-dark border border-surface-border rounded-lg p-4 flex flex-col font-mono text-xs overflow-hidden h-64 lg:h-auto">
<div class="flex items-center justify-between border-b border-surface-border pb-2 mb-2">
<span class="text-slate-300 font-bold uppercase flex items-center gap-2">
<span class="material-symbols-outlined text-[14px] text-primary">terminal</span>Event Log
</span>
<span class="flex size-2 bg-primary rounded-full animate-pulse shadow-[0_0_8px_rgba(19,236,99,0.8)]"></span>
</div>
<div class="flex-1 overflow-y-auto space-y-1 pr-2 text-slate-400" id="event-log">
<div class="flex gap-2">
<span class="text-slate-600">[--:--:--]</span>
<span>System ready. Awaiting target input...</span>
</div>
</div>
</div>
</div>
<div class="lg:col-span-2 flex flex-col gap-6">
<div class="relative bg-surface-dark border border-surface-border rounded-lg overflow-hidden h-[400px] group">
<div class="absolute top-4 left-4 z-20 flex flex-col gap-2">
<button class="bg-black/50 hover:bg-primary/20 hover:text-primary text-slate-300 border border-surface-border p-2 rounded backdrop-blur-sm transition-colors">
<span class="material-symbols-outlined text-[18px]">add</span>
</button>
<button class="bg-black/50 hover:bg-primary/20 hover:text-primary text-slate-300 border border-surface-border p-2 rounded backdrop-blur-sm transition-colors">
<span class="material-symbols-outlined text-[18px]">remove</span>
</button>
<button class="bg-black/50 hover:bg-primary/20 hover:text-primary text-slate-300 border border-surface-border p-2 rounded backdrop-blur-sm transition-colors">
<span class="material-symbols-outlined text-[18px]">center_focus_strong</span>
</button>
</div>
<div class="absolute top-4 right-4 z-20 px-3 py-1 rounded-full border border-primary/30 bg-primary/10 text-primary text-xs font-mono flex items-center gap-2">
<span class="size-2 rounded-full bg-primary animate-pulse"></span>LIVE TOPOLOGY
</div>
<div class="absolute inset-0 flex items-center justify-center overflow-hidden bg-[#0a0f0c]" id="network-graph">
<div class="text-slate-500 text-center">
<span class="material-symbols-outlined text-6xl mb-4 block">hub</span>
<p class="font-mono text-sm">Network topology will appear here after scan</p>
</div>
</div>
</div>
<div class="flex flex-col bg-surface-dark border border-surface-border rounded-lg overflow-hidden flex-1">
<div class="flex items-center justify-between px-4 py-3 border-b border-surface-border bg-surface-dark">
<h3 class="font-display font-semibold text-white tracking-wide">ENUMERATION RESULTS</h3>
<div class="flex gap-2">
<button class="text-xs font-mono text-primary bg-primary/10 border border-primary/20 px-3 py-1 rounded hover:bg-primary/20 transition-colors" onclick="exportResults()">EXPORT.CSV</button>
<button class="text-xs font-mono text-slate-400 border border-surface-border px-3 py-1 rounded hover:text-white transition-colors">FILTER</button>
</div>
</div>
<div class="overflow-x-auto">
<table class="w-full text-left font-mono text-sm">
<thead class="bg-[#0a0f0c] text-slate-400 text-xs uppercase tracking-wider">
<tr>
<th class="px-4 py-3 font-medium border-b border-surface-border w-1/3">Subdomain</th>
<th class="px-4 py-3 font-medium border-b border-surface-border">Status</th>
<th class="px-4 py-3 font-medium border-b border-surface-border">IP Address</th>
<th class="px-4 py-3 font-medium border-b border-surface-border">Server</th>
<th class="px-4 py-3 font-medium border-b border-surface-border text-right">Last Seen</th>
</tr>
</thead>
<tbody class="divide-y divide-surface-border text-slate-300" id="results-table">
<tr>
<td colspan="5" class="px-4 py-8 text-center text-slate-500">
<span class="material-symbols-outlined text-4xl mb-2 block">search</span>
No scan results yet. Enter a domain and click Scan to begin.
</td>
</tr>
</tbody>
</table>
</div>
<div class="px-4 py-3 border-t border-surface-border flex items-center justify-between text-xs font-mono text-slate-500 bg-[#0a0f0c]">
<span id="results-count">Showing 0 results</span>
<div class="flex gap-1" id="pagination">
<button class="px-2 py-1 rounded hover:bg-surface-border text-slate-300 disabled:opacity-50" disabled>&lt;</button>
<button class="px-2 py-1 rounded bg-surface-border text-primary">1</button>
<button class="px-2 py-1 rounded hover:bg-surface-border text-slate-300 disabled:opacity-50" disabled>&gt;</button>
</div>
</div>
</div>
</div>
</div>
</main>
</div>

<script>
let scanResults = [];
let isScanning = false;

// Mock subdomain data for demonstration
const mockSubdomains = [
    { subdomain: 'www.example.com', status: '200 OK', ip: '192.168.1.1', server: 'nginx/1.18.0', lastSeen: '2 min ago', statusClass: 'text-primary' },
    { subdomain: 'api.example.com', status: '200 OK', ip: '192.168.1.2', server: 'Apache/2.4', lastSeen: '5 min ago', statusClass: 'text-primary' },
    { subdomain: 'admin.example.com', status: '403 Forbidden', ip: '192.168.1.3', server: 'nginx/1.16.0', lastSeen: '10 min ago', statusClass: 'text-red-400' },
    { subdomain: 'dev.example.com', status: '401 Unauthorized', ip: '192.168.1.4', server: 'Apache/2.2', lastSeen: '15 min ago', statusClass: 'text-yellow-400' },
    { subdomain: 'mail.example.com', status: '200 OK', ip: '192.168.1.5', server: 'Postfix', lastSeen: '20 min ago', statusClass: 'text-primary' },
    { subdomain: 'ftp.example.com', status: '200 OK', ip: '192.168.1.6', server: 'vsftpd', lastSeen: '25 min ago', statusClass: 'text-primary' }
];

document.addEventListener('DOMContentLoaded', function() {
    // Check authentication
    const isAuthenticated = localStorage.getItem('allOSINT_authenticated');
    if (!isAuthenticated) {
        window.location.href = 'login.html';
        return;
    }
    
    // Load target from localStorage if available
    const target = localStorage.getItem('allOSINT_target');
    if (target && target.includes('.') && !target.includes('@')) {
        document.getElementById('target-input').value = target;
        // Auto-start scan after a brief delay
        setTimeout(() => startScan(), 1000);
    }
});

function addToLog(message) {
    const log = document.getElementById('event-log');
    const timestamp = new Date().toLocaleTimeString('en-US', { hour12: false });
    const entry = document.createElement('div');
    entry.className = 'flex gap-2';
    entry.innerHTML = `
        <span class="text-slate-600">[${timestamp}]</span>
        <span>${message}</span>
    `;
    log.appendChild(entry);
    log.scrollTop = log.scrollHeight;
}

function startScan() {
    const target = document.getElementById('target-input').value.trim();
    
    if (!target) {
        alert('Please enter a target domain');
        return;
    }
    
    if (isScanning) {
        return;
    }
    
    isScanning = true;
    scanResults = [];
    
    // Clear previous results
    document.getElementById('results-table').innerHTML = `
        <tr>
            <td colspan="5" class="px-4 py-8 text-center text-slate-500">
                <span class="material-symbols-outlined text-4xl mb-2 block animate-spin">sync</span>
                Scanning ${target}...
            </td>
        </tr>
    `;
    
    addToLog(`Initiating scan for <span class="text-primary">${target}</span>`);
    addToLog('Resolving root domain... <span class="text-green-400">OK</span>');
    addToLog('Querying passive DNS sources...');
    
    // Simulate progressive discovery
    let foundCount = 0;
    const interval = setInterval(() => {
        if (foundCount < mockSubdomains.length) {
            const subdomain = mockSubdomains[foundCount];
            // Replace example.com with actual target
            subdomain.subdomain = subdomain.subdomain.replace('example.com', target);
            scanResults.push(subdomain);
            foundCount++;
            
            addToLog(`Found subdomain: <span class="text-primary">${subdomain.subdomain}</span>`);
            updateResults();
            updateStats();
        } else {
            clearInterval(interval);
            addToLog('<span class="text-white">&gt; Scan complete. Visualizing topology.</span>');
            addToLog('<span class="animate-pulse">_</span>');
            isScanning = false;
            generateNetworkGraph();
        }
    }, 800);
}

function updateResults() {
    const tbody = document.getElementById('results-table');
    tbody.innerHTML = scanResults.map(result => `
        <tr class="hover:bg-primary/5 transition-colors group cursor-pointer">
            <td class="px-4 py-3 font-medium text-white group-hover:text-primary">
                ${result.subdomain}
                ${result.status.includes('200') ? '<span class="ml-2 inline-block size-1.5 rounded-full bg-primary animate-pulse"></span>' : ''}
            </td>
            <td class="px-4 py-3">
                <span class="inline-flex items-center px-2 py-0.5 rounded text-xs font-medium ${getStatusBadgeClass(result.status)}">
                    ${result.status}
                </span>
            </td>
            <td class="px-4 py-3 text-slate-400">${result.ip}</td>
            <td class="px-4 py-3 text-slate-500">${result.server}</td>
            <td class="px-4 py-3 text-right text-slate-500">${result.lastSeen}</td>
        </tr>
    `).join('');
    
    document.getElementById('results-count').textContent = `Showing 1-${scanResults.length} of ${scanResults.length} results`;
}

function updateStats() {
    document.getElementById('subdomain-count').textContent = scanResults.length;
    document.getElementById('subdomain-change').textContent = `+${scanResults.length} since last scan`;
    
    const vulnCount = scanResults.filter(r => !r.status.includes('200')).length;
    document.getElementById('vuln-count').textContent = vulnCount;
    document.getElementById('vuln-level').textContent = vulnCount > 0 ? 'Found' : 'None';
}

function getStatusBadgeClass(status) {
    if (status.includes('200')) return 'bg-primary/10 text-primary border border-primary/30';
    if (status.includes('403') || status.includes('401')) return 'bg-red-500/10 text-red-400 border border-red-500/30';
    if (status.includes('301') || status.includes('302')) return 'bg-amber-500/10 text-amber-400 border border-amber-500/30';
    return 'bg-slate-700/30 text-slate-400 border border-slate-600/30';
}

function generateNetworkGraph() {
    const graphContainer = document.getElementById('network-graph');
    graphContainer.innerHTML = `
        <svg class="opacity-80" height="100%" width="100%">
            <defs>
                <linearGradient id="line-gradient" x1="0%" y1="0%" x2="100%" y2="0%">
                    <stop offset="0%" stop-color="#1f2e25"/>
                    <stop offset="50%" stop-color="#13ec63"/>
                    <stop offset="100%" stop-color="#1f2e25"/>
                </linearGradient>
                <filter id="glow" x="-20%" y="-20%" width="140%" height="140%">
                    <feGaussianBlur result="coloredBlur" stdDeviation="2"/>
                    <feMerge>
                        <feMergeNode in="coloredBlur"/>
                        <feMergeNode in="SourceGraphic"/>
                    </feMerge>
                </filter>
            </defs>
            <g stroke="url(#line-gradient)" stroke-width="1.5" opacity="0.6">
                <line x1="50%" y1="50%" x2="30%" y2="30%"/>
                <line x1="50%" y1="50%" x2="70%" y2="30%"/>
                <line x1="50%" y1="50%" x2="20%" y2="60%"/>
                <line x1="50%" y1="50%" x2="80%" y2="60%"/>
                <line x1="50%" y1="50%" x2="50%" y2="80%"/>
                <line x1="30%" y1="30%" x2="15%" y2="20%"/>
                <line x1="30%" y1="30%" x2="35%" y2="15%"/>
                <line x1="70%" y1="30%" x2="85%" y2="20%"/>
                <line x1="70%" y1="30%" x2="75%" y2="15%"/>
                <line x1="50%" y1="80%" x2="40%" y2="90%"/>
                <line x1="50%" y1="80%" x2="60%" y2="90%"/>
            </g>
            <circle cx="30%" cy="30%" r="8" fill="#0f1612" stroke="#13ec63" stroke-width="2"/>
            <circle cx="15%" cy="20%" r="4" fill="#13ec63"/>
            <circle cx="35%" cy="15%" r="4" fill="#13ec63"/>
            <circle cx="70%" cy="30%" r="8" fill="#0f1612" stroke="#13ec63" stroke-width="2"/>
            <circle cx="85%" cy="20%" r="4" fill="#13ec63"/>
            <circle cx="75%" cy="15%" r="4" fill="#ef4444"/>
            <circle cx="20%" cy="60%" r="6" fill="#0f1612" stroke="#13ec63" stroke-width="1"/>
            <circle cx="80%" cy="60%" r="6" fill="#0f1612" stroke="#13ec63" stroke-width="1"/>
            <circle cx="50%" cy="80%" r="10" fill="#0f1612" stroke="#13ec63" stroke-width="2"/>
            <circle cx="40%" cy="90%" r="4" fill="#fbbf24"/>
            <circle cx="60%" cy="90%" r="4" fill="#13ec63"/>
            <circle cx="50%" cy="50%" r="25" fill="#0f1612" stroke="#13ec63" stroke-width="3" filter="url(#glow)"/>
            <text x="50%" y="50%" dy="5" text-anchor="middle" fill="#fff" font-family="JetBrains Mono" font-size="20px" font-weight="bold">ROOT</text>
        </svg>
    `;
}

function exportResults() {
    if (scanResults.length === 0) {
        alert('No results to export. Run a scan first.');
        return;
    }
    
    const csv = [
        'Subdomain,Status,IP Address,Server,Last Seen',
        ...scanResults.map(r => `${r.subdomain},${r.status},${r.ip},${r.server},${r.lastSeen}`)
    ].join('\n');
    
    const blob = new Blob([csv], { type: 'text/csv' });
    const url = window.URL.createObjectURL(blob);
    const a = document.createElement('a');
    a.href = url;
    a.download = `subdomain-scan-${new Date().toISOString().split('T')[0]}.csv`;
    a.click();
    window.URL.revokeObjectURL(url);
}

// Allow Enter key to trigger scan
document.getElementById('target-input').addEventListener('keypress', function(e) {
    if (e.key === 'Enter') {
        startScan();
    }
});
</script>
</body>
</html>