<!DOCTYPE html>
<html class="dark" lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>Tech Stack Profiler - OSINT_NEXUS</title>
<link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@300;400;500;600;700&amp;family=JetBrains+Mono:wght@400;500&amp;display=swap" rel="stylesheet"/>
<link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:wght,FILL@100..700,0..1&amp;display=swap" rel="stylesheet"/>
<script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
<script>tailwind.config = {darkMode: "class",theme: {extend: {colors: {"primary": "#13c8ec","primary-dark": "#0ea5c6","background-light": "#f6f8f8","background-dark": "#0f172a","surface-dark": "#1e293b","surface-darker": "#16202e","accent-green": "#10b981","accent-red": "#ef4444","accent-yellow": "#f59e0b",},fontFamily: {"display": ["Space Grotesk", "sans-serif"],"mono": ["JetBrains Mono", "monospace"],},boxShadow: {'glow': '0 0 15px rgba(19, 200, 236, 0.3)','glow-sm': '0 0 8px rgba(19, 200, 236, 0.2)',},backgroundImage: {'grid-pattern': "linear-gradient(to right, #1e293b 1px, transparent 1px), linear-gradient(to bottom, #1e293b 1px, transparent 1px)",}},},}</script>
<style>.cyber-grid {background-size: 40px 40px;mask-image: linear-gradient(to bottom, black 40%, transparent 100%);-webkit-mask-image: linear-gradient(to bottom, black 40%, transparent 100%);}.text-glow {text-shadow: 0 0 10px rgba(19, 200, 236, 0.5);}.scrollbar-hide::-webkit-scrollbar {display: none;}.scrollbar-hide {-ms-overflow-style: none;scrollbar-width: none;}@keyframes scanline {0% { transform: translateY(-100%); }100% { transform: translateY(100%); }}.animate-scanline {animation: scanline 4s linear infinite;}</style>
</head>
<body class="bg-background-light dark:bg-background-dark font-display text-slate-200 overflow-x-hidden min-h-screen flex flex-col">
<header class="flex items-center justify-between whitespace-nowrap border-b border-surface-dark bg-background-dark/95 backdrop-blur px-8 py-3 sticky top-0 z-50">
<div class="flex items-center gap-4 text-white">
<div class="size-8 text-primary animate-pulse">
<span class="material-symbols-outlined !text-3xl">radar</span>
</div>
<h2 class="text-white text-xl font-bold leading-tight tracking-wider">OSINT_NEXUS</h2>
</div>
<div class="hidden md:flex flex-1 justify-end gap-8 items-center">
<nav class="flex items-center gap-6">
<a class="text-slate-400 hover:text-primary transition-colors text-sm font-medium" href="dashboard.html">Dashboard</a>
<a class="text-primary text-shadow-sm text-sm font-medium" href="tech-stack-profiler.html">Tech Stack</a>
<a class="text-slate-400 hover:text-primary transition-colors text-sm font-medium" href="exif-extractor.html">EXIF Tool</a>
<a class="text-slate-400 hover:text-primary transition-colors text-sm font-medium" href="domain-threat-intel.html">Domain Intel</a>
<a class="text-slate-400 hover:text-primary transition-colors text-sm font-medium" href="settings.html">Settings</a>
</nav>
<div class="flex gap-3 border-l border-surface-dark pl-6">
<button class="flex items-center justify-center rounded-lg size-10 bg-surface-dark hover:bg-surface-darker text-slate-300 transition-colors">
<span class="material-symbols-outlined">notifications</span>
</button>
<button class="flex items-center justify-center rounded-lg size-10 bg-surface-dark hover:bg-surface-darker text-slate-300 transition-colors">
<span class="material-symbols-outlined">person</span>
</button>
</div>
</div>
</header>
<main class="flex-1 flex flex-col relative">
<div class="absolute inset-0 bg-grid-pattern cyber-grid opacity-20 pointer-events-none z-0"></div>
<div class="px-6 md:px-12 py-6 relative z-10 flex flex-wrap justify-between items-end gap-4">
<div class="flex flex-col gap-2">
<div class="flex items-center gap-2 text-sm">
<a class="text-slate-500 hover:text-primary" href="dashboard.html">Home</a>
<span class="text-slate-600">/</span>
<a class="text-slate-500 hover:text-primary" href="#">Modules</a>
<span class="text-slate-600">/</span>
<span class="text-primary font-medium">Tech Stack Profiler</span>
</div>
<h1 class="text-3xl md:text-4xl font-bold text-white tracking-tight mt-2">Target Acquisition</h1>
</div>
<div class="flex items-center gap-3 bg-surface-dark/50 px-4 py-2 rounded-lg border border-surface-dark backdrop-blur-sm">
<span class="relative flex h-3 w-3">
<span class="animate-ping absolute inline-flex h-full w-full rounded-full bg-primary opacity-75"></span>
<span class="relative inline-flex rounded-full h-3 w-3 bg-primary"></span>
</span>
<span class="font-mono text-sm text-primary">SYSTEM READY</span>
</div>
</div>
<div class="px-6 md:px-12 pb-8 relative z-10">
<div class="max-w-4xl w-full bg-surface-dark/80 backdrop-blur-md border border-slate-700 rounded-xl p-1 shadow-glow-sm">
<div class="flex flex-col sm:flex-row w-full items-center gap-0">
<div class="flex items-center px-4 py-3 bg-transparent text-slate-400 font-mono select-none">
<span class="text-primary mr-2">&gt;</span> TARGET_URL:
</div>
<input class="flex-1 w-full bg-transparent border-none text-white placeholder-slate-600 focus:ring-0 font-mono text-lg py-3 px-2" placeholder="https://example.com" id="target-url"/>
<button class="w-full sm:w-auto mt-2 sm:mt-0 bg-primary hover:bg-primary-dark text-background-dark font-bold py-3 px-8 rounded-lg transition-all flex items-center justify-center gap-2 shadow-[0_0_15px_rgba(19,200,236,0.4)]" onclick="startScan()">
<span class="material-symbols-outlined text-xl">bolt</span>EXECUTE SCAN
</button>
</div>
</div>
</div>
<div class="flex-1 px-6 md:px-12 pb-6 relative z-10 min-h-[500px]">
<div class="grid grid-cols-1 lg:grid-cols-4 gap-6 h-full">
<div class="lg:col-span-1 flex flex-col gap-4">
<div class="bg-surface-darker/80 border border-slate-800 rounded-xl p-5 backdrop-blur-sm h-full">
<h3 class="text-slate-400 text-xs font-bold uppercase tracking-widest mb-4 border-b border-slate-800 pb-2">Filter Matrix</h3>
<div class="flex flex-col gap-2">
<label class="flex items-center justify-between p-3 rounded-lg bg-surface-dark border border-slate-700 cursor-pointer hover:border-primary/50 transition-colors group">
<div class="flex items-center gap-3">
<span class="material-symbols-outlined text-slate-400 group-hover:text-primary">layers</span>
<span class="text-sm font-medium group-hover:text-white">All Detected</span>
</div>
<span class="bg-primary/20 text-primary text-xs font-bold px-2 py-0.5 rounded" id="total-count">0</span>
</label>
<label class="flex items-center justify-between p-3 rounded-lg bg-surface-dark/50 border border-transparent hover:bg-surface-dark cursor-pointer transition-colors group">
<div class="flex items-center gap-3">
<span class="material-symbols-outlined text-slate-500 group-hover:text-primary">dns</span>
<span class="text-sm text-slate-400 group-hover:text-white">Server Side</span>
</div>
<span class="text-slate-600 text-xs font-bold px-2 py-0.5" id="server-count">0</span>
</label>
<label class="flex items-center justify-between p-3 rounded-lg bg-surface-dark/50 border border-transparent hover:bg-surface-dark cursor-pointer transition-colors group">
<div class="flex items-center gap-3">
<span class="material-symbols-outlined text-slate-500 group-hover:text-primary">code</span>
<span class="text-sm text-slate-400 group-hover:text-white">Frameworks</span>
</div>
<span class="text-slate-600 text-xs font-bold px-2 py-0.5" id="framework-count">0</span>
</label>
<label class="flex items-center justify-between p-3 rounded-lg bg-surface-dark/50 border border-transparent hover:bg-surface-dark cursor-pointer transition-colors group">
<div class="flex items-center gap-3">
<span class="material-symbols-outlined text-slate-500 group-hover:text-primary">analytics</span>
<span class="text-sm text-slate-400 group-hover:text-white">Analytics</span>
</div>
<span class="text-slate-600 text-xs font-bold px-2 py-0.5" id="analytics-count">0</span>
</label>
<label class="flex items-center justify-between p-3 rounded-lg bg-surface-dark/50 border border-transparent hover:bg-surface-dark cursor-pointer transition-colors group">
<div class="flex items-center gap-3">
<span class="material-symbols-outlined text-slate-500 group-hover:text-primary">web</span>
<span class="text-sm text-slate-400 group-hover:text-white">CMS</span>
</div>
<span class="text-slate-600 text-xs font-bold px-2 py-0.5" id="cms-count">0</span>
</label>
</div>
<div class="mt-8">
<h3 class="text-slate-400 text-xs font-bold uppercase tracking-widest mb-4 border-b border-slate-800 pb-2">Risk Assessment</h3>
<div class="bg-red-500/10 border border-red-500/30 p-4 rounded-lg" id="risk-panel" style="display: none;">
<div class="flex items-center gap-2 text-red-400 mb-1">
<span class="material-symbols-outlined text-lg">warning</span>
<span class="font-bold text-sm">CRITICAL CVE DETECTED</span>
</div>
<p class="text-xs text-red-300/80 leading-relaxed" id="risk-description">Vulnerabilities detected in scanned technologies.</p>
</div>
<div class="text-center text-slate-500 py-4" id="no-risk">
<span class="material-symbols-outlined text-2xl mb-2 block">shield</span>
<p class="text-xs">Risk analysis will appear after scan</p>
</div>
</div>
</div>
</div>
<div class="lg:col-span-3 flex flex-col">
<div class="relative flex-1 bg-surface-darker rounded-xl border border-slate-800 overflow-hidden shadow-inner flex flex-col">
<div class="absolute inset-0 pointer-events-none z-0 overflow-hidden opacity-10">
<div class="w-full h-[2px] bg-primary shadow-[0_0_20px_rgba(19,200,236,1)] animate-scanline"></div>
</div>
<div class="p-6 flex justify-between items-start relative z-10">
<h3 class="text-primary text-lg font-bold flex items-center gap-2">
<span class="material-symbols-outlined animate-spin" style="font-size: 18px; animation-duration: 3s;">hub</span>ACTIVE SIGNATURES
</h3>
<div class="flex gap-2">
<button class="p-2 hover:bg-surface-dark rounded text-slate-400 hover:text-white transition-colors">
<span class="material-symbols-outlined">grid_view</span>
</button>
<button class="p-2 hover:bg-surface-dark rounded text-slate-400 hover:text-white transition-colors">
<span class="material-symbols-outlined">list</span>
</button>
</div>
</div>
<div class="p-6 pt-0 grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4 overflow-y-auto max-h-[600px] scrollbar-hide" id="tech-grid">
<div class="col-span-full text-center py-12 text-slate-500">
<span class="material-symbols-outlined text-6xl mb-4 block">web</span>
<p class="font-mono text-sm">Enter a target URL and click EXECUTE SCAN to begin technology profiling</p>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="px-6 md:px-12 pb-6 relative z-10">
<div class="bg-[#0c121e] border border-slate-800 rounded-xl overflow-hidden shadow-2xl">
<div class="bg-slate-800/50 px-4 py-2 flex items-center justify-between border-b border-slate-800">
<div class="flex items-center gap-2">
<span class="material-symbols-outlined text-slate-400 text-sm">terminal</span>
<span class="text-xs font-mono text-slate-300">SCAN_LOGS.TXT</span>
</div>
<div class="flex gap-1.5">
<div class="w-2.5 h-2.5 rounded-full bg-slate-600"></div>
<div class="w-2.5 h-2.5 rounded-full bg-slate-600"></div>
<div class="w-2.5 h-2.5 rounded-full bg-slate-600"></div>
</div>
</div>
<div class="font-mono text-sm p-4 h-48 overflow-y-auto text-slate-300 leading-relaxed font-light scrollbar-hide" id="terminal-logs">
<div class="opacity-50">System ready. Awaiting target URL...</div>
</div>
</div>
</div>
</main>

<script>
let scanInProgress = false;
let detectedTech = [];

// Mock technology signatures
const mockTechnologies = [
    { name: 'React', version: 'v18.2.0', category: 'Framework', icon: 'code_blocks', color: '#61DAFB', confidence: 98, vulnerable: false },
    { name: 'Nginx', version: 'v1.18.0', category: 'Server', icon: 'dns', color: '#009639', confidence: 95, vulnerable: false },
    { name: 'WordPress', version: 'v5.8.1', category: 'CMS', icon: 'wysiwyg', color: '#21759B', confidence: 100, vulnerable: true, cve: 'CVE-2021-39200' },
    { name: 'AWS CloudFront', version: 'Unknown', category: 'Infrastructure', icon: 'cloud', color: '#FF9900', confidence: 85, vulnerable: false },
    { name: 'Google Analytics', version: 'GA4', category: 'Analytics', icon: 'analytics', color: '#E37400', confidence: 100, vulnerable: false },
    { name: 'jQuery', version: 'v3.6.0', category: 'Library', icon: 'javascript', color: '#0769AD', confidence: 100, vulnerable: false }
];

document.addEventListener('DOMContentLoaded', function() {
    // Check authentication
    const isAuthenticated = localStorage.getItem('allOSINT_authenticated');
    if (!isAuthenticated) {
        window.location.href = 'login.html';
        return;
    }
    
    // Load target from localStorage if available
    const target = localStorage.getItem('allOSINT_target');
    if (target && target.startsWith('http')) {
        document.getElementById('target-url').value = target;
        // Auto-start scan after a brief delay
        setTimeout(() => startScan(), 1000);
    }
});

function startScan() {
    const url = document.getElementById('target-url').value.trim();
    
    if (!url) {
        alert('Please enter a target URL');
        return;
    }
    
    if (!url.startsWith('http')) {
        alert('Please enter a valid URL starting with http:// or https://');
        return;
    }
    
    if (scanInProgress) {
        return;
    }
    
    scanInProgress = true;
    detectedTech = [];
    
    // Reset counters
    updateCounts();
    
    // Clear tech grid
    document.getElementById('tech-grid').innerHTML = `
        <div class="col-span-full text-center py-12 text-primary">
            <span class="material-symbols-outlined text-6xl mb-4 block animate-spin">sync</span>
            <p class="font-mono text-sm">Scanning ${url} for technology signatures...</p>
        </div>
    `;
    
    // Clear terminal
    const terminal = document.getElementById('terminal-logs');
    terminal.innerHTML = '';
    
    addToTerminal(`Initializing OSINT_NEXUS Core...`);
    addToTerminal(`Target resolved: ${url}`);
    addToTerminal(`Starting technology fingerprinting...`);
    
    // Simulate progressive discovery
    let discoveredCount = 0;
    const scanInterval = setInterval(() => {
        if (discoveredCount < mockTechnologies.length) {
            const tech = mockTechnologies[discoveredCount];
            detectedTech.push(tech);
            discoveredCount++;
            
            addToTerminal(`[FOUND] ${tech.name} ${tech.version} (${tech.confidence}% confidence)`, tech.vulnerable ? 'danger' : 'success');
            
            if (tech.vulnerable) {
                addToTerminal(`[ALERT] ${tech.cve} Potential Vulnerability Identified`, 'danger');
            }
            
            updateTechGrid();
            updateCounts();
            updateRiskPanel();
        } else {
            clearInterval(scanInterval);
            addToTerminal('Technology profiling complete.', 'success');
            addToTerminal('Generating security assessment...', 'info');
            scanInProgress = false;
        }
    }, 1200);
}

function addToTerminal(message, type = 'info') {
    const terminal = document.getElementById('terminal-logs');
    const timestamp = new Date().toLocaleTimeString('en-US', { hour12: false });
    const entry = document.createElement('div');
    
    let className = 'opacity-50';
    if (type === 'success') className = 'text-green-400';
    else if (type === 'danger') className = 'text-red-400 font-bold bg-red-500/10 inline-block px-1 rounded';
    else if (type === 'info') className = 'text-primary';
    
    entry.className = className;
    entry.textContent = `${timestamp} [INFO] ${message}`;
    
    terminal.appendChild(entry);
    terminal.scrollTop = terminal.scrollHeight;
}

function updateTechGrid() {
    const grid = document.getElementById('tech-grid');
    grid.innerHTML = detectedTech.map(tech => `
        <div class="group relative bg-surface-dark hover:bg-[#1e293b] border ${tech.vulnerable ? 'border-red-500/30 hover:border-red-500' : 'border-slate-700 hover:border-primary/50'} p-4 rounded-lg transition-all duration-300 hover:shadow-glow cursor-pointer">
            ${tech.vulnerable ? '<div class="absolute top-3 right-3 flex gap-1"><span class="flex items-center justify-center bg-red-500/20 text-red-400 text-[10px] font-bold px-1.5 rounded border border-red-500/40">CVE</span></div>' : '<div class="absolute top-3 right-3 flex gap-1"><span class="size-2 rounded-full bg-accent-green shadow-[0_0_5px_#10b981]"></span></div>'}
            <div class="flex items-start gap-4">
                <div class="size-12 rounded bg-slate-800 flex items-center justify-center text-white border border-slate-600 group-hover:border-${tech.vulnerable ? 'red-500' : 'primary'} transition-colors">
                    <span class="material-symbols-outlined text-3xl" style="color: ${tech.color}">${tech.icon}</span>
                </div>
                <div>
                    <h4 class="text-white font-bold group-hover:text-${tech.vulnerable ? 'red-400' : 'primary'} transition-colors">${tech.name}</h4>
                    <p class="text-xs text-${tech.vulnerable ? 'red-300/80' : 'slate-400'} font-mono mt-0.5">${tech.version}${tech.vulnerable ? ' (Outdated)' : ''}</p>
                    <div class="flex gap-2 mt-2">
                        <span class="text-[10px] bg-slate-800 text-slate-300 px-1.5 py-0.5 rounded border border-slate-700">${tech.category}</span>
                        ${tech.category === 'Library' ? '<span class="text-[10px] bg-slate-800 text-slate-300 px-1.5 py-0.5 rounded border border-slate-700">Legacy</span>' : ''}
                    </div>
                </div>
            </div>
            <div class="mt-3 pt-3 border-t border-slate-700/50 flex justify-between items-center">
                <span class="text-[10px] uppercase text-slate-500 font-bold tracking-wider">Confidence</span>
                <div class="flex items-center gap-2">
                    <div class="w-16 h-1 bg-slate-700 rounded-full overflow-hidden">
                        <div class="bg-primary w-[${tech.confidence}%] h-full"></div>
                    </div>
                    <span class="text-xs text-primary font-mono">${tech.confidence}%</span>
                </div>
            </div>
        </div>
    `).join('');
}

function updateCounts() {
    const total = detectedTech.length;
    const server = detectedTech.filter(t => t.category === 'Server' || t.category === 'Infrastructure').length;
    const framework = detectedTech.filter(t => t.category === 'Framework' || t.category === 'Library').length;
    const analytics = detectedTech.filter(t => t.category === 'Analytics').length;
    const cms = detectedTech.filter(t => t.category === 'CMS').length;
    
    document.getElementById('total-count').textContent = total;
    document.getElementById('server-count').textContent = server;
    document.getElementById('framework-count').textContent = framework;
    document.getElementById('analytics-count').textContent = analytics;
    document.getElementById('cms-count').textContent = cms;
}

function updateRiskPanel() {
    const vulnerableTech = detectedTech.filter(t => t.vulnerable);
    const riskPanel = document.getElementById('risk-panel');
    const noRisk = document.getElementById('no-risk');
    
    if (vulnerableTech.length > 0) {
        const tech = vulnerableTech[0];
        document.getElementById('risk-description').textContent = `${tech.name} ${tech.version} detected. Vulnerable to ${tech.cve}. Upgrade recommended.`;
        riskPanel.style.display = 'block';
        noRisk.style.display = 'none';
    } else if (detectedTech.length > 0) {
        noRisk.innerHTML = `
            <span class="material-symbols-outlined text-2xl mb-2 block text-green-500">shield</span>
            <p class="text-xs text-green-400">No critical vulnerabilities detected</p>
        `;
    }
}

// Allow Enter key to trigger scan
document.getElementById('target-url').addEventListener('keypress', function(e) {
    if (e.key === 'Enter') {
        startScan();
    }
});
</script>
</body>
</html>